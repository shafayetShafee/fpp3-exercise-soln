renv::init()
install.packages("fpp3")
install.packages("readr")
renv::status()
renv::snapshot()
#| message: false
#| warning: false
library(fpp3)
renv::status()
renv::snapshot()
renv::status()
aus_production
tsibble::interval(aus_production)
tsibble::interval(pelt)
tsibble::interval(gafa_stock)
gafa_stock
?gafa_stock
tsibble::interval(gafa_stock)
gafa_stock %>% select(Close)
tsibble::interval(vic_elec)
vic_elec
vic_elec %>% autoplot(Demand)
aus_production %>% autoplot(Bricks)
pelt %>% autoplot(Lynx)
gafa_stock %>% autoplot(Close)
vic_elec %>%
autoplot(Demand) +
labs(title = "Time series of Demand from vic_elec")
aus_production %>% autoplot(Bricks)
pelt %>% autoplot(Lynx)
gafa_stock %>% autoplot(Close) + labs(x = NULL)
vic_elec %>%
autoplot(Demand) +
labs(title = "Time series of Demand from vic_elec", x = NULL)
gafa_stock %>%
group_by(Symbol) %>%
filter(Close == max(Close))
gafa_stock %>%
# group_by(Symbol) %>%
filter(Close == max(Close))
gafa_stock %>%
group_by(Symbol) %>%
filter(Close == max(Close))
gafa_stock %>%
group_by(Symbol) %>%
filter(Close == max(Close)) %>%
select(Close) %>% ungroup
gafa_stock %>%
group_by(Symbol) %>%
filter(Close == max(Close)) %>%
select(Symbol, Date, Close) %>% ungroup()
install.packages("here")
tute1 <- readr::read_csv(here::here("data/tute1.csv"))
head(tute1)
#| message: false
tute1 <- readr::read_csv(here::here("data/tute1.csv"))
head(tute1)
tute1 %>%
mutate(Quarter = yearquarter(Quarter)) %>%
as_tibble(Quarter) -> ts_tute
tute1 %>%
mutate(Quarter = yearquarter(Quarter)) %>%
as_tibble(index = Quarter) -> ts_tute
ts_tute
ts_tute %>%
pivot_longer(-Quarter)
ts_tute %>%
pivot_longer(-Quarter) %>%
autoplot(value)
ts_tute %>%
pivot_longer(-Quarter)
ts_tute
tute1 %>%
mutate(Quarter = yearquarter(Quarter)) %>%
as_tsibble(index = Quarter) -> ts_tute
ts_tute
ts_tute %>%
pivot_longer(-Quarter)
ts_tute %>%
pivot_longer(-Quarter) %>% autoplot()
ts_tute %>%
pivot_longer(-Quarter) %>% autoplot(value)
ts_tute
ts_tute %>%
pivot_longer(-Quarter)
ts_tute %>%
pivot_longer(-Quarter) %>%
ggplot(aes(x = Quarter, y = value, color = name))
ts_tute %>%
pivot_longer(-Quarter) %>%
ggplot(aes(x = Quarter, y = value, color = name)) +
geom_line()
ts_tute %>%
pivot_longer(-Quarter) %>%
ggplot(aes(x = Quarter, y = value, color = name)) +
geom_line() +
facet_grid(name ~ .)
ts_tute %>%
pivot_longer(-Quarter) %>%
ggplot(aes(x = Quarter, y = value, color = name)) +
geom_line() +
facet_grid(name ~ ., scales = "free_y")
install.packages("USgas")
renv::snapshot()
data(us_total, package = "USgas")
head(us_total)
us_total %>%
as_tsibble(index = year, key = state)
us_total %>%
as_tsibble(index = year, key = state) -> ts_us_total
ts_us_total
ts_us_total %>%
filter(state %in% c("Maine", "Vermont", "New Hampshire", "Massachusetts", "Connecticut",
"Rhode Island"))
ts_us_total %>%
filter(state %in% c("Maine", "Vermont", "New Hampshire", "Massachusetts", "Connecticut",
"Rhode Island")) %>%
autoplot(y)
ts_us_total %>%
filter(state %in% c("Maine", "Vermont", "New Hampshire", "Massachusetts", "Connecticut",
"Rhode Island")) %>%
autoplot(y) +
scale_y_continuous(labels = scales::number_format())
ts_us_total %>%
filter(state %in% c("Maine", "Vermont", "New Hampshire", "Massachusetts", "Connecticut",
"Rhode Island")) %>%
autoplot(y) +
scale_y_continuous(labels = scales::unit_format())
ts_us_total %>%
filter(state %in% c("Maine", "Vermont", "New Hampshire", "Massachusetts", "Connecticut",
"Rhode Island")) %>%
autoplot(y) +
scale_y_continuous(labels = scales::number_format())
install.packages("readxl")
renv::snapshot()
tourism <- readxl::read_excel("data/tourism.xlsx")
head(tourism)
feasts::tourism
rm(tourism)
tourism_xl <- readxl::read_excel("data/tourism.xlsx")
head(tourism_xl)
tourism
tourism
tourism_xl %>%
mutate(Quarter = yearquarter(Quarter)) %>%
as_tsibble(index = Quarter, key = c(Region, State, Purpose))
tourism_ts
tourism_xl %>%
mutate(Quarter = yearquarter(Quarter)) %>%
as_tsibble(index = Quarter, key = c(Region, State, Purpose)) -> tourism_ts
tourism_ts
tourism_ts %>%
group_by(Region, Purpose) %>%
summarise(trips = sum(trips))
tourism_ts %>%
group_by(Region, Purpose) %>%
summarise(trips = sum(Trips))
tourism_ts %>%
group_by(Region, Purpose) %>%
summarise(trips = sum(Trips)) %>%
slice_max(trips, n = 1)
tourism_ts %>%
group_by(Region, Purpose) %>%
summarise(trips = sum(Trips), .groups = "drop") %>%
slice_max(trips, n = 1)
tourism_ts %>%
group_by(Region, Purpose) %>%
summarise(trips = sum(Trips), .groups = "drop")
tourism_ts %>%
group_by(Region, Purpose) %>%
summarise(trips = sum(Trips), .groups = "drop") %>%
slice_max(trips, n = 1)
tourism_ts %>%
group_by(State) %>%
summarise(trips = sum(Trips), .groups = "drop")
tourism_ts %>%
group_by(State) %>%
summarise(trips = sum(Trips), .groups = "drop") -> trips_by_state
trips_by_state
aus_arrivals
aus_arrivals %>%
autoplot(Arrivals)
aus_arrivals %>%
gg_season(Arrivals)
aus_arrivals %>%
autoplot(Arrivals) +
scale_y_continuous(labels = scales::label_number(scale_cut = scales::cut_short_scale()))
aus_arrivals %>%
gg_season(Arrivals) +
scale_y_continuous(labels = scales::label_number(scale_cut = scales::cut_short_scale()))
ts_us_total %>%
filter(state %in% c("Maine", "Vermont", "New Hampshire", "Massachusetts", "Connecticut",
"Rhode Island")) %>%
autoplot(y) +
scale_y_continuous(labels = scales::label_number(scale_cut = scales::cut_short_scale()))
aus_arrivals %>% gg_subseries()
aus_arrivals %>% gg_subseries(Arrivals)
